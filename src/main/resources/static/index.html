<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoccorsoWeb - Richiedi Aiuto</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<!-- SEZIONE PUBBLICA: Home page con richiesta soccorso -->
<div id="public-section">
    <div class="hero">
        <h1>ğŸš¨ SoccorsoWeb</h1>
        <p class="tagline">Servizio di emergenza e soccorso - Sempre al tuo servizio</p>
    </div>

    <!-- Form pubblico per richiesta soccorso -->
    <div class="section public-form">
        <h2>ğŸ“¢ Richiedi Soccorso</h2>
        <p class="info-text">Compila il modulo per inviare una richiesta di soccorso. Riceverai un'email di conferma.</p>

        <form id="public-request-form">
            <input type="text" id="pub-descrizione" placeholder="Descrivi l'emergenza *" required>
            <input type="text" id="pub-indirizzo" placeholder="Indirizzo/Posizione *" required>
            <input type="text" id="pub-nome" placeholder="Il tuo nome *" required>
            <input type="email" id="pub-email" placeholder="La tua email *" required>
            <input type="tel" id="pub-telefono" placeholder="Telefono (opzionale)">
            <button type="submit" class="btn-emergency">Invia Richiesta di Soccorso</button>
        </form>

        <p class="disclaimer">* Campi obbligatori. Riceverai un'email di conferma per attivare la richiesta.</p>
    </div>

    <!-- Link al login per operatori -->
    <div class="section login-link">
        <p>Sei un operatore o amministratore?</p>
        <button id="show-login-btn" class="btn-secondary">Accedi al Pannello</button>
    </div>
</div>

<!-- SEZIONE LOGIN (nascosta di default) -->
<div id="login-section" style="display:none;">
    <div class="login-box">
        <h2>ğŸ” Login Operatori</h2>
        <form id="login-form">
            <input type="email" id="username" placeholder="Email" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Accedi</button>
        </form>
        <button id="back-to-public" class="btn-link">â† Torna alla home pubblica</button>
    </div>
</div>

<!-- SEZIONE RISERVATA (nascosta, visibile solo dopo login) -->
<div id="main-section" style="display:none;">
    <div class="header">
        <h1>ğŸš¨ SoccorsoWeb - Dashboard</h1>
        <button id="logout-btn" class="logout-btn">Logout</button>
    </div>

    <!-- Operazione 4: Lista richieste -->
    <div class="section">
        <h2>ğŸ“‹ Richieste di Soccorso</h2>
        <div class="filter-controls">
            <select id="filter-tipo">
                <option value="ATTIVA">Attive</option>
                <option value="INVIATA">Inviate</option>
                <option value="CONVALIDATA">Convalidate</option>
                <option value="IN_CORSO">In Corso</option>
                <option value="CHIUSA">Chiuse</option>
                <option value="IGNORATA">Ignorate</option>
            </select>
            <button id="load-requests">Carica Richieste</button>
        </div>
        <div id="requests-container"></div>
    </div>

    <!-- Operazione 6: Lista operatori liberi -->
    <div class="section">
        <h2>ğŸ‘¥ Operatori Disponibili</h2>
        <button id="load-operators">Carica Operatori</button>
        <div id="operators-container"></div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="js/api.js"></script>
<script src="js/app.js"></script>
</body>
</html>
